<!doctype html>
<html>
  <head>
    <title>Socket.IO  three.js</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      canvas { width: 100%; height: 100% }
    </style>
  </head>
  <body></body>

<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/node_modules/three/build/three.min.js"></script>
<script src="/node_modules/three/examples/js/controls/OrbitControls.js"></script>

<script>

  var scene = new THREE.Scene();
  scene.background = new THREE.Color( 0xcccccc );
  scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );

  var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
  var controls = new THREE.OrbitControls( camera );
  camera.position.z = 5;
  controls.update();

  var renderer = new THREE.WebGLRenderer();
  renderer.setSize( window.innerWidth, window.innerHeight );
  document.body.appendChild( renderer.domElement );

  var geometry = new THREE.BoxGeometry( 1, 1, .1 );
  var material = new THREE.MeshPhongMaterial( { color: 0xffffff, flatShading: true } );
  var cube = new THREE.Mesh( geometry, material );
  cube.updateMatrix();
  cube.matrixAutoUpdate = false;
  scene.add( cube );

  // lights
  var light = new THREE.DirectionalLight( 0xffffff );
  light.position.set( 1, 1, 1 );
  scene.add( light );
  var light = new THREE.DirectionalLight( 0x002288 );
  light.position.set( -1, -1, -1 );
  scene.add( light );
  var light = new THREE.AmbientLight( 0x222222 );
  scene.add( light );

  controls.addEventListener( 'change', function(){
    renderer.render(scene, camera);
  }); 
  renderer.render(scene, camera);


  var socket = io();
  socket.on('message', function(data) {
    console.log(data);
  });
</script>
    
</html>